<!DOCTYPE html> <html lang="es-ES"> <head prefix="og: http://ogp.me/ns#"> <meta charset="UTF-8" /> <meta http-equiv="X-UA-Compatible" content="ie=edge" /> <meta name="viewport" content="width=device-width, initial-scale=1.0" /> <meta name="mobile-web-app-capable" content="yes" /> <meta name="apple-mobile-web-app-capable" content="yes" /> <meta name="application-name" content="Rubén Arcos" /> <meta name="apple-mobile-web-app-status-bar-style" content="#fff" /> <meta name="apple-mobile-web-app-title" content="Rubén Arcos" /> <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous"> <title> SysAdmin instalación Proxmox - Rubén Arcos </title> <link rel="alternate" href="http://localhost:4000/proxmox/" hreflang="es-ES" /> <link rel="canonical" href="http://localhost:4000/proxmox/" /> <meta name="description" content="developer" /> <meta name="referrer" content="no-referrer-when-downgrade" /> <meta property="fb:app_id" content="" /> <meta property="og:site_name" content="SysAdmin instalación Proxmox | Rubén Arcos" /> <meta property="og:title" content="SysAdmin instalación Proxmox | Rubén Arcos" /> <meta property="og:type" content="website" /> <meta property="og:url" content="http://localhost:4000/proxmox/" /> <meta property="og:description" content="developer" /> <meta property="og:image" content="http://localhost:4000/assets/img/ogp.png" /> <meta property="og:image:width" content="640" /> <meta property="og:image:height" content="640" /> <meta name="twitter:card" content="summary" /> <meta name="twitter:title" content="SysAdmin instalación Proxmox | rarcosdev" /> <meta name="twitter:url" content="http://localhost:4000/proxmox/" /> <meta name="twitter:site" content="@rarcosdev" /> <meta name="twitter:creator" content="@rarcosdev" /> <meta name="twitter:description" content="developer" /> <meta name="twitter:image" content="http://localhost:4000/assets/img/ogp.png" /> <link rel="apple-touch-icon" sizes="180x180" href="/assets/favicons/apple-touch-icon.png" /> <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png" /> <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png" /> <link rel="manifest" href="/assets/favicons/site.webmanifest" /> <link rel="mask-icon" href="/assets/favicons/safari-pinned-tab.svg" color="#5bbad5" /> <meta name="apple-mobile-web-app-title" content="Jekyll Klise" /> <meta name="application-name" content="Jekyll Klise" /> <meta name="msapplication-TileColor" content="#da532c" /> <meta name="theme-color" content="#2c2c2c" /> <link rel="stylesheet" href="/assets/css/style.css" /> </head> <body data-theme="light" class="notransition"> <script> const body = document.body; const data = body.getAttribute("data-theme"); const initTheme = (state) => { if (state === "dark") { body.setAttribute("data-theme", "dark"); } else if (state === "light") { body.removeAttribute("data-theme"); } else { localStorage.setItem("theme", data); } }; initTheme(localStorage.getItem("theme")); setTimeout(() => body.classList.remove("notransition"), 75); </script> <div class="navbar" role="navigation"> <nav class="menu"> <input type="checkbox" id="menu-trigger" class="menu-trigger" /> <label for="menu-trigger"> <span class="menu-icon"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 512 512" > <path d="M64,384H448V341.33H64Zm0-106.67H448V234.67H64ZM64,128v42.67H448V128Z" /> </svg> </span> </label> <a id="mode"> <svg class="mode-sunny" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 512 512" > <title>LIGHT</title> <line x1="256" y1="48" x2="256" y2="96" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="256" y1="416" x2="256" y2="464" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="403.08" y1="108.92" x2="369.14" y2="142.86" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="142.86" y1="369.14" x2="108.92" y2="403.08" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="464" y1="256" x2="416" y2="256" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="96" y1="256" x2="48" y2="256" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="403.08" y1="403.08" x2="369.14" y2="369.14" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="142.86" y1="142.86" x2="108.92" y2="108.92" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <circle cx="256" cy="256" r="80" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> </svg> <svg class="mode-moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 512 512" > <title>DARK</title> <line x1="256" y1="48" x2="256" y2="96" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="256" y1="416" x2="256" y2="464" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="403.08" y1="108.92" x2="369.14" y2="142.86" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="142.86" y1="369.14" x2="108.92" y2="403.08" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="464" y1="256" x2="416" y2="256" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="96" y1="256" x2="48" y2="256" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="403.08" y1="403.08" x2="369.14" y2="369.14" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="142.86" y1="142.86" x2="108.92" y2="108.92" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <circle cx="256" cy="256" r="80" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> </svg> </a> <div class="trigger"> <div class="trigger-container"><a class="menu-link" href="/">Home</a><a class="menu-link" href="/archive/">Labs & Posts</a><a class="menu-link" href="/about/">About & CV</a><a class="menu-link" href="/contacto/">Contacto</a><a class="menu-link" href="https://github.com/rubenarcos2" target="_blank" rel="noopener" ><i class="fab fa-github fa-2x"></i></a ><a class="menu-link" href="https://es.linkedin.com/in/rubenarcos2" target="_blank" rel="noopener" ><i class="fab fa-linkedin fa-2x"></i></a ></div> </div> </nav> </div> <div class="wrapper post"> <main class="page-content" aria-label="Content"> <article itemscope itemtype="https://schema.org/BlogPosting"> <header class="header"> <h1 class="header-title" itemprop="headline">SysAdmin instalación Proxmox</h1> <div class="post-meta"> <time datetime="2014-03-04T00:00:00+00:00" itemprop="datePublished"> Mar 04, 2014 </time> <span itemprop="author" itemscope itemtype="https://schema.org/Person"> <span itemprop="name">Rubén Arcos</span> </span> <time hidden datetime="" itemprop="dateModified"> Mar 04, 2014 </time> <span hidden itemprop="publisher" itemtype="Person">Rubén Arcos</span> <span hidden itemprop="image"></span> <span hidden itemprop="mainEntityOfPage"><h1 id="instalación-del-servidor-de-virtualización-proxmox-tutorial">Instalación del servidor de virtualización Proxmox (Tutorial)</h1> </span> </div> </header> <div class="page-content" itemprop="articleBody"> <h1 id="instalación-del-servidor-de-virtualización-proxmox-tutorial"> <a href="#instalación-del-servidor-de-virtualización-proxmox-tutorial" class="anchor-head"></a> Instalación del servidor de virtualización Proxmox (Tutorial) </h1> <p><img src="Screen-HA-status1.png" alt="Captura Proxmox" /></p> <p>He decido montar un servidor virtual, en lugar de simplemente un servidor habitual, por las ventajas que ofrece la virtualización a día de hoy. No solo podemos instalar varios sistemas en la misma máquina (con el ahorro de espacio y energía que supone) si no que además podremos hacer imágenes para restaurar rápidamente en un momento crítico o para deshacer instalaciones internas, pruebas o errores de configuración, de una forma cómoda y sin tener que averiguar la solución.</p> <h3 id="tecnología"> <a href="#tecnología" class="anchor-head"></a> Tecnología </h3> <ul> <li>HTML 5</li> <li>CSS 3</li> <li>jQuery</li> <li>Responsive Design</li> <li>PHP</li> </ul> <h3 id="cliente"> <a href="#cliente" class="anchor-head"></a> Cliente </h3> <p>Prácticas particulares.</p> <h3 id="descripción"> <a href="#descripción" class="anchor-head"></a> Descripción </h3> <p>Tras investigar y aprender bastante del tema, y haber hecho varias pruebas en la máquina virtual de mi ordenador y en la máquina virtual del servidor, me he decantado por la distribución Proxmox VE 3.1 (basado en Debian Wheezy) por sus simplicidad y optimización de recursos. En primer lugar decidí (y monte para probar) Ubuntu Server 12.04 con KVM y OpenVz de forma manual, pero me atrayó bastante el entorno web de administración de Proxmox y la comodidad de las consola virtuales ya enlazadas a vnc y todas las configuraciones necesarias. No he tenido muchas ganas de volver a tener que redirigir, comprobar y reiniciar muchas veces los servicios para que se medio automatice para cada máquina virtual que se vaya creando. Por ello, y siendo muy dificil de evitar la comodidad de algo ya hecho, probado y sobre todo apoyado por una comunidad activa (casi todos los errores se me resolvieron en la primera búsqueda en el buscador) termine instalando en el disco duro principal de mi servidor Proxmox. El material que he utilizado ha sido el siguiente:</p> <ul> <li>CPU AMD x64 3500+ (un solo core)</li> <li>Placa Base ASUS M2V</li> <li>2 discos duros SATA</li> <li>Un teclado, monitor y ratón (que desaparecerán luego, por supuesto)</li> </ul> <p>Requisitos necesarios:</p> <ul> <li>Imagen ISO de Promox VE 3.1</li> <li>PenDrive con más de 1Gb de capacidad</li> <li>Otro PC para acceder y comprobar la administración y los accesos</li> <li>Una imagen de Ubuntu Server y otro sistema operativo diferente</li> <li>Plugin del navegador de Java Jre/Jdk 7 o superior</li> <li>Unebootin u otro programa para instalar una ISO a USB</li> </ul> <p>Bueno puesto que ya tenemos lo necesario vamos con el procedimiento de instalación, su configuración y puesta en marcha. Para comenzar nos tenemos que descargar previamente la imagen ISO de Proxmox VE 3.1. Una vez descargada, la pasaremos a un pendrive mediante unebootin. Cuando haya terminado de pasar la imagen al completo, salimos de unebootin y abrimos la ubicación del pendrive, para copiar la imagen ISO tal cual en la carpeta boot (aunque pienso que igualmente se podrá en cualquier otra, pero en esta nos aseguramos tener permisos luego) puesto que después tenemos que montarla en el punto de montaje /mnt en el arranque. Esto que acabo de relatar como una rutina sin aparene importancia me costo algún tiempo de investigación y pruebas con el arranque de la distribución, porque no esta prevista para iniciarse desde un pendrive y entonces nos da un error con la búsqueda del CDROM. Al iniciar el equipo desde el pendrive, elegimos el modo ‘debug’ y lo escribimos despuÃ©s de ‘boot:’ y esperamos a que intente iniciar el sistema, tras los errores de ruta del CDROM:</p> <blockquote> <p><strong><em>no cdrom found!“ unable to continue (type exit or Ctrl-D to reboot)</em></strong></p> </blockquote> <p>nos aparecerá el SHELL, en que introduciremos lo siguiente:</p> <p><code class="language-plaintext highlighter-rouge">fdisk -l</code> (para identificar la ruta al pendrive será /dev/sdb o algo similar)</p> <p><code class="language-plaintext highlighter-rouge">mount /dev/sdb* /mnt</code> (siendo sdb* el punto que está en nuestro ordenador, cambiarlo)</p> <p>una vez tenemos el pendrive montado en /mnt, vamos a añadirle la ruta a la ISO que es desde donde queremos leer los ficheros necesarios.</p> <p><code class="language-plaintext highlighter-rouge">mount -o loop -t iso9660 /mnt/proxmox_*.iso /mnt</code> (siendo proxmox_*.iso el nombre de vuestra iso)</p> <p>y por último, damos permisos de grupo y lanzamos el script de arranque del instalador.</p> <p><code class="language-plaintext highlighter-rouge">chroot /mnt sbin/unconfigured.sh</code> (este último comando lo tendreis que escribir, no funciona el autocompletar, no os asusteis, lo lanza igualmente)</p> <h6 id="fuentes"> Fuentes: </h6> <p><a href="http://upshell.wordpress.com/2011/11/25/install-proxmox-with-usb/">http://upshell.wordpress.com/2011/11/25/install-proxmox-with-usb/</a> <a href="http://blog.desdelinux.net/proxmox-ve-una-interesante-herramienta-de-virtualizacion/">http://blog.desdelinux.net/proxmox-ve-una-interesante-herramienta-de-virtualizacion/</a></p> <h3 id="content-license"> <a href="#content-license" class="anchor-head"></a> Content License </h3> <p>Creative Commons <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/"><img src="../88x311.png" alt="License: CC BY-NC-ND 4.0" /></a></p> <p>This web page, all content with proyects and source code, is licensed under Creative Commons: Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0) <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/">More info</a></p> <p>Esta página web y todo su contenido, incluido proyectos y código fuente, está licenciado bajo una licencia de Creative Commons: Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0) <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/deed.es">Más info</a></p> </div> </article> </main> <nav class="post-nav"> <a class="post-nav-item post-nav-next" href="/js_juego_siete_y_media/"> <div class="nav-arrow">Next</div> <span class="post-title">Javascript Juego de la siete y media</span> </a> </nav> <footer class="footer"> <a class="footer_item" href="/contacto">contact&nbsp;&nbsp;&nbsp;|</a> <a class="footer_item" href="/about">CV&nbsp;&nbsp;&nbsp;|</a> <a class="footer_item" href="/cookies">cookies&nbsp;&nbsp;&nbsp;|</a> <a class="footer_item" href="/license">license of content&nbsp;&nbsp;&nbsp;|</a> <span class="footer_item">&copy; 2022</span> <small class="footer_copyright"> <!-- Klisé Theme: https://github.com/piharpi/jekyll-klise --> <a href="https://github.com/piharpi/jekyll-klise" target="_blank" rel="noreferrer noopener" >klisé</a > theme on <a href="https://jekyllrb.com" target="_blank" rel="noreferrer noopener" >jekyll</a > </small> </footer> <script src="/assets/js/main.js" defer="defer"></script><!-- Google Analytics --> <!-- Global site tag (gtag.js) - Google Analytics --> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-64172909-1"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-64172909-1'); </script> <!-- End Google Analytics --> </div> <style> #cookie-notice {padding: 0.5rem 1rem; display: none; text-align: center; position: fixed; bottom: 0; width: calc(100% - 2rem); background: #222; color: rgba(255,255,255,0.8);} #cookie-notice a {display: inline-block; cursor: pointer; margin-left: 0.5rem;} @media (max-width: 767px) { #cookie-notice span {display: block; padding-top: 3px; margin-bottom: 1rem;} #cookie-notice a {position: relative; bottom: 4px;} } </style> <div id="cookie-notice"><span>Esta web utiliza cookies y scripts de terceros para mejorar la funcionalidad de este sitio web.</span> <a id="cookie-notice-accept" class="btn btn-primary btn-sm">Aceptar</a><a href="/cookies" class="btn btn-primary btn-sm">Más info</a></div> <script> function createCookie(name,value,days) { var expires = ""; if (days) { var date = new Date(); date.setTime(date.getTime() + (days*24*60*60*1000)); expires = "; expires=" + date.toUTCString(); } document.cookie = name + "=" + value + expires + "; path=/"; } function readCookie(name) { var nameEQ = name + "="; var ca = document.cookie.split(';'); for(var i=0;i < ca.length;i++) { var c = ca[i]; while (c.charAt(0)==' ') c = c.substring(1,c.length); if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length); } return null; } function eraseCookie(name) { createCookie(name,"",-1); } if(readCookie('cookie-notice-dismissed')=='true') { } else { document.getElementById('cookie-notice').style.display = 'block'; } document.getElementById('cookie-notice-accept').addEventListener("click",function() { createCookie('cookie-notice-dismissed','true',31); document.getElementById('cookie-notice').style.display = 'none'; location.reload(); }); </script> </body> </html>
