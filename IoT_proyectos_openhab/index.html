<!DOCTYPE html> <html lang="es-ES"> <head prefix="og: http://ogp.me/ns#"> <meta charset="UTF-8" /> <meta http-equiv="X-UA-Compatible" content="ie=edge" /> <meta name="viewport" content="width=device-width, initial-scale=1.0" /> <meta name="mobile-web-app-capable" content="yes" /> <meta name="apple-mobile-web-app-capable" content="yes" /> <meta name="application-name" content="Rubén Arcos" /> <meta name="apple-mobile-web-app-status-bar-style" content="#fff" /> <meta name="apple-mobile-web-app-title" content="Rubén Arcos" /> <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous"> <title> IoT proyectos y Mqtt en openhab - Rubén Arcos </title> <link rel="alternate" href="http://localhost:4000/IoT_proyectos_openhab/" hreflang="es-ES" /> <link rel="canonical" href="http://localhost:4000/IoT_proyectos_openhab/" /> <meta name="description" content="developer" /> <meta name="referrer" content="no-referrer-when-downgrade" /> <meta property="fb:app_id" content="" /> <meta property="og:site_name" content="IoT proyectos y Mqtt en openhab | Rubén Arcos" /> <meta property="og:title" content="IoT proyectos y Mqtt en openhab | Rubén Arcos" /> <meta property="og:type" content="website" /> <meta property="og:url" content="http://localhost:4000/IoT_proyectos_openhab/" /> <meta property="og:description" content="developer" /> <meta property="og:image" content="http://localhost:4000/assets/img/ogp.png" /> <meta property="og:image:width" content="640" /> <meta property="og:image:height" content="640" /> <meta name="twitter:card" content="summary" /> <meta name="twitter:title" content="IoT proyectos y Mqtt en openhab | rarcosdev" /> <meta name="twitter:url" content="http://localhost:4000/IoT_proyectos_openhab/" /> <meta name="twitter:site" content="@rarcosdev" /> <meta name="twitter:creator" content="@rarcosdev" /> <meta name="twitter:description" content="developer" /> <meta name="twitter:image" content="http://localhost:4000/assets/img/ogp.png" /> <link rel="apple-touch-icon" sizes="180x180" href="/assets/favicons/apple-touch-icon.png" /> <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png" /> <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png" /> <link rel="manifest" href="/assets/favicons/site.webmanifest" /> <link rel="mask-icon" href="/assets/favicons/safari-pinned-tab.svg" color="#5bbad5" /> <meta name="apple-mobile-web-app-title" content="Jekyll Klise" /> <meta name="application-name" content="Jekyll Klise" /> <meta name="msapplication-TileColor" content="#da532c" /> <meta name="theme-color" content="#2c2c2c" /> <link rel="stylesheet" href="/assets/css/style.css" /> </head> <body data-theme="light" class="notransition"> <script> const body = document.body; const data = body.getAttribute("data-theme"); const initTheme = (state) => { if (state === "dark") { body.setAttribute("data-theme", "dark"); } else if (state === "light") { body.removeAttribute("data-theme"); } else { localStorage.setItem("theme", data); } }; initTheme(localStorage.getItem("theme")); setTimeout(() => body.classList.remove("notransition"), 75); </script> <div class="navbar" role="navigation"> <nav class="menu"> <input type="checkbox" id="menu-trigger" class="menu-trigger" /> <label for="menu-trigger"> <span class="menu-icon"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 512 512" > <path d="M64,384H448V341.33H64Zm0-106.67H448V234.67H64ZM64,128v42.67H448V128Z" /> </svg> </span> </label> <a id="mode"> <svg class="mode-sunny" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 512 512" > <title>LIGHT</title> <line x1="256" y1="48" x2="256" y2="96" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="256" y1="416" x2="256" y2="464" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="403.08" y1="108.92" x2="369.14" y2="142.86" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="142.86" y1="369.14" x2="108.92" y2="403.08" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="464" y1="256" x2="416" y2="256" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="96" y1="256" x2="48" y2="256" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="403.08" y1="403.08" x2="369.14" y2="369.14" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="142.86" y1="142.86" x2="108.92" y2="108.92" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <circle cx="256" cy="256" r="80" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> </svg> <svg class="mode-moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 512 512" > <title>DARK</title> <line x1="256" y1="48" x2="256" y2="96" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="256" y1="416" x2="256" y2="464" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="403.08" y1="108.92" x2="369.14" y2="142.86" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="142.86" y1="369.14" x2="108.92" y2="403.08" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="464" y1="256" x2="416" y2="256" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="96" y1="256" x2="48" y2="256" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="403.08" y1="403.08" x2="369.14" y2="369.14" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="142.86" y1="142.86" x2="108.92" y2="108.92" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <circle cx="256" cy="256" r="80" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> </svg> </a> <div class="trigger"> <div class="trigger-container"><a class="menu-link" href="/">Home</a><a class="menu-link" href="/archive/">Labs & Posts</a><a class="menu-link" href="/about/">About & CV</a><a class="menu-link" href="/contacto/">Contacto</a><a class="menu-link" href="https://github.com/rubenarcos2" target="_blank" rel="noopener" ><i class="fab fa-github fa-2x"></i></a ><a class="menu-link" href="https://es.linkedin.com/in/rubenarcos2" target="_blank" rel="noopener" ><i class="fab fa-linkedin fa-2x"></i></a ></div> </div> </nav> </div> <div class="wrapper post"> <main class="page-content" aria-label="Content"> <article itemscope itemtype="https://schema.org/BlogPosting"> <header class="header"> <h1 class="header-title" itemprop="headline">IoT proyectos y Mqtt en openhab</h1> <div class="post-meta"> <time datetime="2021-10-13T00:00:00+00:00" itemprop="datePublished"> Oct 13, 2021 </time> <span itemprop="author" itemscope itemtype="https://schema.org/Person"> <span itemprop="name">Rubén Arcos</span> </span> <time hidden datetime="" itemprop="dateModified"> Oct 13, 2021 </time> <span hidden itemprop="publisher" itemtype="Person">Rubén Arcos</span> <span hidden itemprop="image"></span> <span hidden itemprop="mainEntityOfPage"><p><img src="iot.png" alt="" /></p> </span> </div> </header> <div class="page-content" itemprop="articleBody"> <p><img src="iot.png" alt="" /></p> <h1 id="proyectos-para-domotizar-things-con-openhab"> <a href="#proyectos-para-domotizar-things-con-openhab" class="anchor-head"></a> Proyectos para domotizar things con OpenHab </h1> <p>LLevo mucho tiempo haciendo <em>things</em> con Arduino y sus variantes: ESP8266, ESP32. Y no he querido publicar nada hasta ahora porque veo que la utilidad real viene cuando se puede controlar desde una central y sus salida web, desde TV, Smartphones, Apps… Es aquí cuando la automatización se vuelve universal y cualquier usuario sin conocimiento puede dar instrucciones, recibir datos de sensores y poder automatizar tareas de varias <em>things</em> entre sí y demás. En mi caso los proyectos más grandes e interesantes que he realizado son:</p> <ul> <li>Regadera IoT</li> <li>Termómetro y Humedad interior</li> <li>Estor IoT</li> </ul> <p>He probado varias <em>centralitas</em> que gestionen las <em>things</em> y que utilizen el MQTT como broker para la comunicación como estandar. Aquí estan las principales: <a href="https://alternativeto.net/feature/home-automation/">https://alternativeto.net/feature/home-automation/</a></p> <p>También tengo que decir que primero decidí como condicion que debería aprender a hacer las <em>things</em> autónomas, es decir, que cada una de ella realizara las tareas que tenían que hacer de forma autónoma (solo con los microcontroladores) y a ser posible tener un acceso web para ver o tomar acciones. Ha sido después de haber conseguido cumplir con este requisito autoimpuesto, cuando he investigado centros de control y empezado a probarlos.</p> <p>Actualmente tengo montado dos versiones de cada una de las <em>things</em> la autónoma y la que hace de cliente para OpenHab o cualquier servidor que implemente MQTT. Openhab lo he montado con la imagen de OpenHabian que facilitan en una Raspberry Pi 3 B+ y funciona perfectamente (eso sí con un cargador de 2,5 amp como el original) aunque tienen una carga apreciable en el SO. En una vps tengo HomeAssistants dockerizado. Los dos los he probado a dockerizar, pero Openhab me ha dado un problema de puertos del MQTT que no he conseguido resolver por ahora. En la vps me ha funcionado muy lento, requiere muchos mas recursos.</p> <h2 id="reloj-meteorológico"> <a href="#reloj-meteorológico" class="anchor-head"></a> Reloj meteorológico </h2> <p><img src="reloj.png" alt="" /> <img src="IMG_20211026_120326.jpg" alt="" /></p> <p>Reloj con sensor de temperatura DHT11 a tiempo real, y obtención de la previsión meteorológica mediante la API de <a href="http://openweathermap.org/">http://openweathermap.org/</a> y el envío mediante MQTT de los datos del sensor local a Openhab.</p> <figure class="video_container"> <iframe src="VID_20211026_114524.mp4" frameborder="0" allowfullscreen="true"> </iframe> </figure> <p>Código fuente y partes imprimibles:</p> <p><a href="https://github.com/rubenarcos2/IoT-My_learning_path/tree/main/Mqtt/LCD_clock_openweather">https://github.com/rubenarcos2/IoT-My_learning_path/tree/main/Mqtt/LCD_clock_openweather</a></p> <h2 id="regadera-iot"> <a href="#regadera-iot" class="anchor-head"></a> Regadera IoT </h2> <p><img src="IMG_20200904_195754.jpg" alt="" /></p> <p>Regadera funcionando de forma autónoma, tiene un reloj interno que se activa a una hora y riega mientras pasa un minuto y hasta que detecta saturación de la humedad de la tierra, através del sensor capacitativo de humedad que está clavado en la tierra.</p> <figure class="video_container"> <iframe src="VID_20200904_195800.mp4" frameborder="0" allowfullscreen="true"> </iframe> </figure> <p>Código fuente y partes imprimibles:</p> <p><a href="https://github.com/rubenarcos2/IoT-My_learning_path/tree/main/Mqtt/regader_iot_mqtt">https://github.com/rubenarcos2/IoT-My_learning_path/tree/main/Mqtt/regader_iot_mqtt</a></p> </div> </article> </main> <nav class="post-nav"> <a class="post-nav-item post-nav-prev" href="/Conversion_js_de_es6_a_es5-transpilado/" > <div class="nav-arrow">Previous</div> <span class="post-title">Conversion JS de ES6 a ES5 - Transpilado</span> </a> <a class="post-nav-item post-nav-next" href="/Tu_web_en_app_Android/"> <div class="nav-arrow">Next</div> <span class="post-title">Tu web en una app Android</span> </a> </nav> <footer class="footer"> <a class="footer_item" href="/contacto">contact&nbsp;&nbsp;&nbsp;|</a> <a class="footer_item" href="/about">CV&nbsp;&nbsp;&nbsp;|</a> <a class="footer_item" href="/cookies">cookies&nbsp;&nbsp;&nbsp;|</a> <a class="footer_item" href="/license">license of content&nbsp;&nbsp;&nbsp;|</a> <span class="footer_item">&copy; 2021</span> <small class="footer_copyright"> <!-- Klisé Theme: https://github.com/piharpi/jekyll-klise --> <a href="https://github.com/piharpi/jekyll-klise" target="_blank" rel="noreferrer noopener" >klisé</a > theme on <a href="https://jekyllrb.com" target="_blank" rel="noreferrer noopener" >jekyll</a > </small> </footer> <script src="/assets/js/main.js" defer="defer"></script><!-- Google Analytics --> <!-- Global site tag (gtag.js) - Google Analytics --> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-64172909-1"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-64172909-1'); </script> <!-- End Google Analytics --> </div> <style> #cookie-notice {padding: 0.5rem 1rem; display: none; text-align: center; position: fixed; bottom: 0; width: calc(100% - 2rem); background: #222; color: rgba(255,255,255,0.8);} #cookie-notice a {display: inline-block; cursor: pointer; margin-left: 0.5rem;} @media (max-width: 767px) { #cookie-notice span {display: block; padding-top: 3px; margin-bottom: 1rem;} #cookie-notice a {position: relative; bottom: 4px;} } </style> <div id="cookie-notice"><span>Esta web utiliza cookies y scripts de terceros para mejorar la funcionalidad de este sitio web.</span> <a id="cookie-notice-accept" class="btn btn-primary btn-sm">Aceptar</a><a href="/cookies" class="btn btn-primary btn-sm">Más info</a></div> <script> function createCookie(name,value,days) { var expires = ""; if (days) { var date = new Date(); date.setTime(date.getTime() + (days*24*60*60*1000)); expires = "; expires=" + date.toUTCString(); } document.cookie = name + "=" + value + expires + "; path=/"; } function readCookie(name) { var nameEQ = name + "="; var ca = document.cookie.split(';'); for(var i=0;i < ca.length;i++) { var c = ca[i]; while (c.charAt(0)==' ') c = c.substring(1,c.length); if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length); } return null; } function eraseCookie(name) { createCookie(name,"",-1); } if(readCookie('cookie-notice-dismissed')=='true') { } else { document.getElementById('cookie-notice').style.display = 'block'; } document.getElementById('cookie-notice-accept').addEventListener("click",function() { createCookie('cookie-notice-dismissed','true',31); document.getElementById('cookie-notice').style.display = 'none'; location.reload(); }); </script> </body> </html>
